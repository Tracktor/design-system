name: Chromatic ‚Äì show button

on:
  pull_request:
    types: [opened, reopened]

permissions:
  issues: write
  pull-requests: write

jobs:
  comment:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        with:
          script: |
            const body = `
  üß™ **Chromatic**
  
  Click the button below to run visual tests for this PR.

  [‚ñ∂Ô∏è Run Chromatic](https://github.com/${context.repo.owner}/${context.repo.repo}/issues/${context.issue.number}#issuecomment-new?body=/chromatic)
  `;
  
  await github.rest.issues.createComment({
owner: context.repo.owner,
repo: context.repo.repo,
issue_number: context.issue.number,
  body,
});
